2020-10-04 15:16:52.324255: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_100.dll
============================= test session starts =============================
platform win32 -- Python 3.6.12, pytest-6.0.2, py-1.9.0, pluggy-0.13.1
rootdir: C:\Users\mutation\Desktop\testcase\tests\keras\utils
plugins: flaky-3.7.0
collected 7 items

conv_utils_test.py ....F..                                               [100%]Using TensorFlow backend.


================================== FAILURES ===================================
___________________________ test_conv_output_length ___________________________

    def test_conv_output_length():
        assert conv_utils.conv_output_length(None, 7, 'same', 1) is None
        assert conv_utils.conv_output_length(224, 7, 'same', 1) == 224
        assert conv_utils.conv_output_length(224, 7, 'same', 2) == 112
        assert conv_utils.conv_output_length(32, 5, 'valid', 1) == 28
        assert conv_utils.conv_output_length(32, 5, 'valid', 2) == 14
>       assert conv_utils.conv_output_length(32, 5, 'causal', 1) == 32

conv_utils_test.py:40: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

input_length = 32, filter_size = 5, padding = 'causal', stride = 1, dilation = 1

    def conv_output_length(input_length, filter_size,
                           padding, stride, dilation=1):
        """Determines output length of a convolution given input length.
    
        # Arguments
            input_length: integer.
            filter_size: integer.
            padding: one of `"same"`, `"valid"`, `"full"`.
            stride: integer.
            dilation: dilation rate, integer.
    
        # Returns
            The output length (integer).
        """
        if input_length is None:
            return None
        assert padding in {'same', 'valid', 'full', 'causal'}
        dilated_filter_size = (filter_size - 1) * dilation + 1
        if padding == 'same':
            output_length = input_length
        elif padding == 'valid':
            output_length = input_length - dilated_filter_size + 1
        elif padding != 'causal':
            output_length = input_length
        elif padding == 'full':
            output_length = input_length + dilated_filter_size - 1
>       return (output_length + stride - 1) // stride
E       UnboundLocalError: local variable 'output_length' referenced before assignment

C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\keras\utils\conv_utils.py:111: UnboundLocalError
=========================== short test summary info ===========================
FAILED conv_utils_test.py::test_conv_output_length - UnboundLocalError: local...
========================= 1 failed, 6 passed in 1.02s =========================
