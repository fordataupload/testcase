2020-10-05 21:00:55.978706: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_100.dll
Running tests under Python 3.6.12: C:\ProgramData\Anaconda3\envs\keras\python.exe
[ RUN      ] NestTest.testAssertSameStructure
[       OK ] NestTest.testAssertSameStructure
[ RUN      ] NestTest.testAssertShallowStructure
[       OK ] NestTest.testAssertShallowStructure
[ RUN      ] NestTest.testFlattenAndPack
[  FAILED  ] NestTest.testFlattenAndPack
[ RUN      ] NestTest.testFlattenAndPackWithDicts
[  FAILED  ] NestTest.testFlattenAndPackWithDicts
[ RUN      ] NestTest.testFlattenDictOrder
[       OK ] NestTest.testFlattenDictOrder
[ RUN      ] NestTest.testFlattenRaggedValue
[       OK ] NestTest.testFlattenRaggedValue
[ RUN      ] NestTest.testFlattenSparseValue
[       OK ] NestTest.testFlattenSparseValue
[ RUN      ] NestTest.testFlattenUpTo
[       OK ] NestTest.testFlattenUpTo
[ RUN      ] NestTest.testIsSequence
2020-10-05 21:00:59.607443: W tensorflow/python/util/util.cc:299] Sets are not currently considered sequences, but this may change in the future, so consider avoiding using them.
[       OK ] NestTest.testIsSequence
[ RUN      ] NestTest.testMapStructure
[  FAILED  ] NestTest.testMapStructure
[ RUN      ] NestTest.testMapStructureUpTo
[       OK ] NestTest.testMapStructureUpTo
[ RUN      ] NestTest.testPackDictOrder
[       OK ] NestTest.testPackDictOrder
[ RUN      ] NestTest.test_session
[  SKIPPED ] NestTest.test_session
======================================================================
ERROR: testFlattenAndPack (__main__.NestTest)
NestTest.testFlattenAndPack
----------------------------------------------------------------------
Traceback (most recent call last):
  File "nest_test.py", line 82, in testFlattenAndPack
    nest.pack_sequence_as(structure, flat), (("a", "b"), "c",
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 191, in pack_sequence_as
    _, packed = _packed_nest_with_indices(structure, flat_sequence, 0)
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 152, in _packed_nest_with_indices
    packed.append(flat[index])
TypeError: list indices must be integers or slices, not NoneType

======================================================================
ERROR: testFlattenAndPackWithDicts (__main__.NestTest)
NestTest.testFlattenAndPackWithDicts
----------------------------------------------------------------------
Traceback (most recent call last):
  File "nest_test.py", line 258, in testFlattenAndPackWithDicts
    unflattened = nest.pack_sequence_as(structure_of_mess, flattened)
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 191, in pack_sequence_as
    _, packed = _packed_nest_with_indices(structure, flat_sequence, 0)
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 148, in _packed_nest_with_indices
    new_index, child = _packed_nest_with_indices(s, flat, index)
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 152, in _packed_nest_with_indices
    packed.append(flat[index])
TypeError: list indices must be integers or slices, not NoneType

======================================================================
ERROR: testMapStructure (__main__.NestTest)
NestTest.testMapStructure
----------------------------------------------------------------------
Traceback (most recent call last):
  File "nest_test.py", line 500, in testMapStructure
    structure1_plus1 = nest.map_structure(lambda x: x + 1, structure1)
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 245, in map_structure
    structure[0], [func(*x) for x in entries])
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 191, in pack_sequence_as
    _, packed = _packed_nest_with_indices(structure, flat_sequence, 0)
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 148, in _packed_nest_with_indices
    new_index, child = _packed_nest_with_indices(s, flat, index)
  File "C:\ProgramData\Anaconda3\envs\keras\lib\site-packages\tensorflow_core\python\data\util\nest.py", line 152, in _packed_nest_with_indices
    packed.append(flat[index])
TypeError: list indices must be integers or slices, not NoneType

----------------------------------------------------------------------
Ran 13 tests in 0.031s

FAILED (errors=3, skipped=1)
